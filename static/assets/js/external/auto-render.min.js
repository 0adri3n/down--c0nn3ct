/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/katex@0.16.10/contrib/auto-render/auto-render.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import katex from"katex";import splitAtDelimiters from"./splitAtDelimiters";const renderMathInText=function(e,t){const r=splitAtDelimiters(e,t.delimiters);if(1===r.length&&"text"===r[0].type)return null;const n=document.createDocumentFragment();for(let e=0;e<r.length;e++)if("text"===r[e].type)n.appendChild(document.createTextNode(r[e].data));else{const i=document.createElement("span");let l=r[e].data;t.displayMode=r[e].display;try{t.preProcess&&(l=t.preProcess(l)),katex.render(l,i,t)}catch(i){if(!(i instanceof katex.ParseError))throw i;t.errorCallback("KaTeX auto-render: Failed to parse `"+r[e].data+"` with ",i),n.appendChild(document.createTextNode(r[e].rawData));continue}n.appendChild(i)}return n},renderElem=function(e,t){for(let r=0;r<e.childNodes.length;r++){const n=e.childNodes[r];if(3===n.nodeType){let i=n.textContent,l=n.nextSibling,o=0;for(;l&&l.nodeType===Node.TEXT_NODE;)i+=l.textContent,l=l.nextSibling,o++;const a=renderMathInText(i,t);if(a){for(let e=0;e<o;e++)n.nextSibling.remove();r+=a.childNodes.length-1,e.replaceChild(a,n)}else r+=o}else if(1===n.nodeType){const e=" "+n.className+" ";-1===t.ignoredTags.indexOf(n.nodeName.toLowerCase())&&t.ignoredClasses.every((t=>-1===e.indexOf(" "+t+" ")))&&renderElem(n,t)}}},renderMathInElement=function(e,t){if(!e)throw new Error("No element provided to render");const r={};for(const e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);r.delimiters=r.delimiters||[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}],r.ignoredTags=r.ignoredTags||["script","noscript","style","textarea","pre","code","option"],r.ignoredClasses=r.ignoredClasses||[],r.errorCallback=r.errorCallback||console.error,r.macros=r.macros||{},renderElem(e,r)};export default renderMathInElement;
//# sourceMappingURL=/sm/d0e8500ff178ca26e826ae74a64e3f5ad6346b8268400ffb08d6bfe5c404595f.map